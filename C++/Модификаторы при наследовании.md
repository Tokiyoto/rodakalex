При наследовании в C++ модификаторы доступа (`public`, `protected`, `private`) определяют, как члены базового класса становятся доступными в производном классе. Давайте рассмотрим, как они работают:

### Модификаторы доступа при наследовании

1. **`public` наследование**:
   - Члены базового класса с доступом `public` остаются `public` в производном классе.
   - Члены базового класса с доступом `protected` становятся `protected` в производном классе.
   - Члены базового класса с доступом `private` недоступны в производном классе.
   - Это наиболее распространенный тип наследования и чаще всего используется, если требуется, чтобы производный класс был виден как тип базового класса.

   Пример:
   ```cpp
   class Base {
   public:
       int pubVar;    // Доступен как pubVar
   protected:
       int protVar;   // Доступен как protVar
   private:
       int privVar;   // Не доступен в производном классе
   };

   class Derived : public Base {
       void test() {
           pubVar = 1;   // Доступно
           protVar = 2;  // Доступно
           // privVar = 3; // Ошибка: недоступно
       }
   };
   ```

2. **`protected` наследование**:
   - Члены базового класса с доступом `public` становятся `protected` в производном классе.
   - Члены базового класса с доступом `protected` остаются `protected` в производном классе.
   - Члены базового класса с доступом `private` по-прежнему недоступны в производном классе.
   - Это наследование используется, когда вы хотите скрыть детали реализации базового класса от внешнего кода, но сохранить доступ для производных классов.

   Пример:
   ```cpp
   class Base {
   public:
       int pubVar;
   protected:
       int protVar;
   private:
       int privVar;
   };

   class Derived : protected Base {
       void test() {
           pubVar = 1;   // Ошибка: pubVar теперь protected
           protVar = 2;  // Доступно
           // privVar = 3; // Ошибка: недоступно
       }
   };
   ```

3. **`private` наследование**:
   - Члены базового класса с доступом `public` становятся `private` в производном классе.
   - Члены базового класса с доступом `protected` становятся `private` в производном классе.
   - Члены базового класса с доступом `private` по-прежнему недоступны в производном классе.
   - Этот тип наследования используется для реализации "составного" или "приватного" интерфейса. Производный класс использует функциональность базового класса, но не предоставляет его пользователю.

   Пример:
   ```cpp
   class Base {
   public:
       int pubVar;
   protected:
       int protVar;
   private:
       int privVar;
   };

   class Derived : private Base {
       void test() {
           pubVar = 1;   // Доступно, но как private
           protVar = 2;  // Доступно, но как private
           // privVar = 3; // Ошибка: недоступно
       }
   };
   ```

### Область видимости и доступ

- **Внутри производного класса**: Модификаторы доступа определяют, какой доступ имеют члены базового класса в контексте производного класса.
- **Внешний код**: Когда объект производного класса используется вне этого класса, его доступ к членам базового класса определяется модификатором доступа, который использовался при наследовании.

### Использование `using`

Вы также можете использовать ключевое слово `using` для изменения доступа к членам базового класса в производном классе. Это позволяет контролировать доступ к членам базового класса, даже если они были унаследованы как `protected` или `private`.

Пример:
```cpp
class Base {
public:
    void func() {}
protected:
    int data;
};

class Derived : protected Base {
public:
    using Base::func;  // Функция func теперь доступна как public
    // int data; // Ошибка: data остается protected
};
```

Это дает гибкость в управлении доступом и предоставляет возможность контролировать, как члены базового класса используются в производном классе.

[[C++]]