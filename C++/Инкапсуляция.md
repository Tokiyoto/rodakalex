Инкапсуляция — один из основополагающих принципов объектно-ориентированного программирования (ООП). В C++ инкапсуляция означает объединение данных и методов, которые работают с этими данными, в одном объекте и предоставление доступа к этим данным только через специально определенные методы.

### Основные аспекты инкапсуляции

1. **Скрытие данных**:
   - Основная цель инкапсуляции — скрыть внутреннее состояние объекта от внешнего мира и предоставить доступ к этим данным только через публичные методы. Это помогает защитить данные от непреднамеренных изменений и предоставляет интерфейс для работы с объектом.

   ```cpp
   class Account {
   private:
       double balance; // Скрытое состояние

   public:
       // Конструктор
       Account(double initialBalance) : balance(initialBalance) {}

       // Метод для получения баланса
       double getBalance() const {
           return balance;
       }

       // Метод для внесения средств
       void deposit(double amount) {
           if (amount > 0) {
               balance += amount;
           }
       }

       // Метод для снятия средств
       void withdraw(double amount) {
           if (amount > 0 && amount <= balance) {
               balance -= amount;
           }
       }
   };
   ```

   В этом примере переменная `balance` недоступна напрямую извне класса, и доступ к ней возможен только через методы `getBalance()`, `deposit()` и `withdraw()`.

2. **Определение интерфейса**:
   - Класс предоставляет интерфейс для взаимодействия с объектом, скрывая детали реализации. Внешний код взаимодействует с объектом через его публичные методы, что облегчает изменение внутренней реализации без изменения внешнего интерфейса.

   ```cpp
   int main() {
       Account myAccount(100.0);
       myAccount.deposit(50.0);
       myAccount.withdraw(20.0);
       std::cout << "Balance: " << myAccount.getBalance() << std::endl; // Output: Balance: 130.0
       return 0;
   }
   ```

3. **Принцип единственной ответственности**:
   - Инкапсуляция способствует соблюдению принципа единственной ответственности (SRP), который гласит, что класс должен иметь только одну причину для изменений. Инкапсуляция помогает структурировать код таким образом, чтобы классы отвечали только за управление своими данными и предоставляли четко определенные методы для работы с этими данными.

4. **Публичные, защищенные и приватные члены**:
   - **`public`**: Доступен из любого места.
   - **`protected`**: Доступен только в классе и его производных классах.
   - **`private`**: Доступен только внутри самого класса.

   ```cpp
   class MyClass {
   public:
       void publicMethod();    // Доступен из любого места
   protected:
       void protectedMethod(); // Доступен в классе и производных классах
   private:
       void privateMethod();   // Доступен только внутри класса
   };
   ```

### Плюсы инкапсуляции

1. **Защита данных**: Инкапсуляция защищает данные от непреднамеренных изменений и нарушения целостности.
2. **Сокрытие реализации**: Детали реализации могут быть скрыты, и интерфейс остается неизменным, что упрощает сопровождение кода.
3. **Повышение модульности**: Каждый класс управляет собственными данными и предоставляет интерфейс для работы с ними, что облегчает разработку и тестирование.

### Заключение

Инкапсуляция является ключевым аспектом ООП и помогает создавать надежные, поддерживаемые и модульные программы. Она обеспечивает защиту данных, упрощает изменение внутренней реализации без влияния на внешние части программы и способствует лучшему структурированию кода.

[[C++]]
[[ООП]]